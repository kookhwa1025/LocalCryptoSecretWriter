<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔒 비밀글 암호 프로그램</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 관리자 모드 버튼 -->
    <div id="adminModeBtn" class="admin-mode-btn">
        <button onclick="showAdminMode()">운영자 권한으로 실행</button>
    </div>

    <!-- 홈 화면 -->
    <div id="homeScreen" class="screen active">
        <div class="container">
            <h1 class="title">🔒 비밀글 암호 프로그램</h1>
            <div class="button-group">
                <button id="btnWrite" class="btn-primary">비밀글 쓰기</button>
                <button id="btnRead" class="btn-primary">비밀글 찾기</button>
            </div>
        </div>
    </div>

    <!-- 비밀글 작성 화면 -->
    <div id="writeScreen" class="screen">
        <div class="container">
            <h2 class="subtitle">비밀글 작성</h2>
            <div class="form-group">
                <label for="writeTitle">제목</label>
                <input type="text" id="writeTitle" placeholder="제목을 입력하세요" />
            </div>
            <div class="form-group">
                <label for="writeContent">내용</label>
                <textarea id="writeContent" rows="10" placeholder="내용을 입력하세요"></textarea>
            </div>
            <div class="form-group">
                <label for="writeReadPassword">읽기 전용 비밀번호</label>
                <input type="password" id="writeReadPassword" placeholder="읽기 전용 비밀번호를 입력하세요" />
                <small style="color: #888; font-size: 0.9em;">이 비밀번호로는 읽기만 가능합니다.</small>
            </div>
            <div class="form-group">
                <label for="writeAdminPassword">관리자 비밀번호</label>
                <input type="password" id="writeAdminPassword" placeholder="관리자 비밀번호를 입력하세요" />
                <small style="color: #888; font-size: 0.9em;">이 비밀번호로는 읽기, 수정, 삭제가 모두 가능합니다.</small>
            </div>
            <div class="button-group">
                <button id="btnSave" class="btn-primary">암호화 및 저장</button>
                <button id="btnCancelWrite" class="btn-secondary">취소</button>
            </div>
            <div id="encryptProgress" class="progress-container hidden">
                <div class="progress-bar">
                    <div class="progress-fill" id="encryptProgressFill"></div>
                </div>
                <p id="encryptStatus" class="progress-text">암호화 중...</p>
            </div>
        </div>
    </div>

    <!-- 비밀글 목록 화면 -->
    <div id="listScreen" class="screen">
        <div class="container">
            <h2 class="subtitle">비밀글 목록</h2>
            <div id="secretList" class="secret-list">
                <!-- 동적으로 생성 -->
            </div>
            <div class="button-group">
                <button id="btnBackToList" class="btn-secondary">홈으로</button>
            </div>
        </div>
    </div>

    <!-- 비밀글 복호화 화면 -->
    <div id="decryptScreen" class="screen">
        <div class="container">
            <h2 class="subtitle">비밀글 열람</h2>
            <div id="decryptProgress" class="progress-container hidden">
                <div class="progress-bar">
                    <div class="progress-fill" id="decryptProgressFill"></div>
                </div>
                <p id="decryptStatus" class="progress-text">복호화 중...</p>
            </div>
            <div id="decryptContent" class="decrypt-content"></div>
            <div class="button-group">
                <button id="btnCloseDecrypt" class="btn-secondary">닫기</button>
            </div>
        </div>
    </div>

    <!-- 비밀글 수정 화면 -->
    <div id="editScreen" class="screen">
        <div class="container">
            <h2 class="subtitle">비밀글 수정</h2>
            <div class="form-group">
                <label for="editTitle">제목</label>
                <input type="text" id="editTitle" />
            </div>
            <div class="form-group">
                <label for="editContent">내용</label>
                <textarea id="editContent" rows="10"></textarea>
            </div>
            <div class="form-group">
                <label for="editReadPassword">읽기 전용 비밀번호 (수정)</label>
                <input type="password" id="editReadPassword" placeholder="새 읽기 전용 비밀번호를 입력하세요" />
                <small style="color: #888; font-size: 0.9em;">수정 시 새로운 읽기 전용 비밀번호를 설정합니다.</small>
            </div>
            <div class="form-group">
                <label for="editAdminPassword">관리자 비밀번호 (수정)</label>
                <input type="password" id="editAdminPassword" placeholder="새 관리자 비밀번호를 입력하세요" />
                <small style="color: #888; font-size: 0.9em;">수정 시 새로운 관리자 비밀번호를 설정합니다.</small>
            </div>
            <div class="button-group">
                <button id="btnSaveEdit" class="btn-primary">수정 저장</button>
                <button id="btnCancelEdit" class="btn-secondary">취소</button>
            </div>
            <div id="editProgress" class="progress-container hidden">
                <div class="progress-bar">
                    <div class="progress-fill" id="editProgressFill"></div>
                </div>
                <p id="editStatus" class="progress-text">암호화 중...</p>
            </div>
        </div>
    </div>

    <!-- 관리자 모드 화면 -->
    <div id="adminScreen" class="screen">
        <div class="container">
            <h2 class="subtitle">운영자 권한 모드</h2>
            <div id="adminSecretList" class="secret-list">
                <!-- 동적으로 생성 -->
            </div>
            <div class="button-group">
                <button id="btnRefreshAdmin" class="btn-primary">목록 새로고침</button>
                <button id="btnChangeAdminPassword" class="btn-primary">운영자 비밀번호 변경</button>
                <button id="btnExitAdmin" class="btn-secondary">일반 모드로 돌아가기</button>
            </div>
        </div>
    </div>

    <!-- 관리자 비밀번호 변경 모달 -->
    <div id="adminPasswordChangeModal" class="modal hidden">
        <div class="modal-content">
            <h3>운영자 권한 모드 비밀번호 변경</h3>
            <div class="form-group">
                <label for="currentAdminPassword">현재 비밀번호</label>
                <input type="password" id="currentAdminPassword" placeholder="현재 운영자 비밀번호를 입력하세요" />
            </div>
            <div class="form-group">
                <label for="newAdminPassword">새 비밀번호</label>
                <input type="password" id="newAdminPassword" placeholder="새 운영자 비밀번호를 입력하세요" />
            </div>
            <div class="form-group">
                <label for="confirmNewAdminPassword">새 비밀번호 확인</label>
                <input type="password" id="confirmNewAdminPassword" placeholder="새 비밀번호를 다시 입력하세요" />
            </div>
            <div class="button-group">
                <button id="btnConfirmAdminPasswordChange" class="btn-primary">변경</button>
                <button id="btnCancelAdminPasswordChange" class="btn-secondary">취소</button>
            </div>
        </div>
    </div>

    <!-- 비밀번호 변경 모달 -->
    <div id="passwordChangeModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="passwordChangeModalTitle">비밀번호 변경</h3>
            <div class="form-group">
                <label for="changeReadPassword">읽기 전용 비밀번호</label>
                <input type="password" id="changeReadPassword" placeholder="새 읽기 전용 비밀번호" />
            </div>
            <div class="form-group">
                <label for="changeAdminPassword">관리자 비밀번호</label>
                <input type="password" id="changeAdminPassword" placeholder="새 관리자 비밀번호" />
            </div>
            <div class="button-group">
                <button id="btnConfirmPasswordChange" class="btn-primary">변경</button>
                <button id="btnCancelPasswordChange" class="btn-secondary">취소</button>
            </div>
        </div>
    </div>

    <!-- 비밀번호 입력 모달 -->
    <div id="passwordModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="passwordModalTitle">비밀번호 입력</h3>
            <div class="form-group">
                <input type="password" id="modalPassword" placeholder="비밀번호를 입력하세요" />
            </div>
            <div class="button-group">
                <button id="btnConfirmPassword" class="btn-primary">확인</button>
                <button id="btnCancelPassword" class="btn-secondary">취소</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
